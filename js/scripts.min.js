const fixednav=document.querySelector(".fixednav");let lastScrollTop=0;const handleScroll=()=>{let e=window.scrollY||document.documentElement.scrollTop;Math.abs(e-lastScrollTop)>=50&&(e>lastScrollTop?(fixednav.classList.add("scroll_hidden"),fixednav.classList.add("scrolledbefore")):fixednav.classList.remove("scroll_hidden"),lastScrollTop=e)};window.addEventListener("scroll",handleScroll);const isGerman=()=>window.location.href.includes("/de/");document.addEventListener("DOMContentLoaded",()=>{function e(e){"number"!==e.getAttribute("type")&&e.setAttribute("type","number")}function t(){const t=document.querySelectorAll(".ccb-summary-item__value");t.forEach(t=>{e(t)})}function o(e){if(!document.querySelector(".ccb-subtotal-wrapper")){console.log("ccb-subtotal-wrapper not found");const e="Es ist etwas schiefgelaufen, bitte kopieren Sie die Preiskalkulation und senden Sie uns eine E-Mail an online@printy.de",t="Something went wrong, please manually copy the price calculation and send us an email to online@printy.de",o=isGerman()?e:t;return void alert(o)}let t="";const o=document.querySelector(".ccb-header-title").innerHTML.replace(/<[^>]*>/g,""),c=document.querySelectorAll(".ccb-subtotal-wrapper .ccb-summary-list__body .ccb-summary-item"),n=document.querySelector(".ccb-totals-list"),r=n.querySelectorAll(".ccb-total-row__item");if(!o||0===c.length||0===r.length)return void console.log("Calculator elements not found");t+=`${o}%0A---%0A%0A`,c.forEach(e=>{const o=e.querySelector(".ccb-summary-item__title .ccb-summary-title").innerHTML,c=e.querySelector(".ccb-summary-item__value").innerHTML,n=`${o}: ${c}`.replace(/<[^>]*>/g,"");t+=`${n}%0A`});let l="";r.forEach(e=>{const t=e.querySelector(".ccb-total-row__name").innerHTML.replace(/<[^>]*>/g,""),o=e.querySelector(".ccb-total-row__value").innerHTML.replace(/<[^>]*>/g,"");l+=`${t}: ${o}`.replace(/<[^>]*>/g,"")+"%0A"}),t+=`---%0A${l}%0A`,e.href=`mailto:online@printy.de?subject=Anfrage%20printy.de%20Preisrechner&body=${t}`}function c(){const e=document.createElement("a");e.textContent=isGerman()?"Anfragen":"Request order",e.classList.add("wp-block-button__link","has-accent-1-background-color","has-text-color","has-background","has-link-color","wp-element-button"),e.style.textAlign="center",e.style.marginTop="1rem",e.style.borderRadius=".5rem",e.style.padding=".667em 1.33em";const t=document.querySelector(".ccb-subtotals-block");t?(t.appendChild(e),e.addEventListener("click",()=>{o(e)})):console.log("calcSubtotal not found, aborting order button creation")}const n=document.querySelector('[class*="ccb"]');if(!n)return void console.log("Die Preiskalkulation ist nicht verfügbar. Bitte versuchen Sie es später erneut.");console.log("Die Preiskalkulation ist verfügbar.");const r=setInterval(()=>{document.querySelector(".ccb-app-container")&&document.querySelector(".ccb-subtotals-block")?(console.log("ccbLoaded is true, creating order button"),clearInterval(r),t(),c()):console.log("ccbLoaded is false, checking again in 200ms")},200)});const searchButton=document.querySelector('a[href="#search"]'),searchInput=document.querySelector('#search input[type="search"]');searchButton.addEventListener("click",e=>{e.preventDefault(),console.log("search button clicked"),searchInput.focus()});