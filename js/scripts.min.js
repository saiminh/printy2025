const fixednav=document.querySelector(".fixednav");let lastScrollTop=0;const handleScroll=()=>{let e=window.scrollY||document.documentElement.scrollTop;Math.abs(e-lastScrollTop)>=50&&(e>lastScrollTop?(fixednav.classList.add("scroll_hidden"),fixednav.classList.add("scrolledbefore")):fixednav.classList.remove("scroll_hidden"),lastScrollTop=e)};window.addEventListener("scroll",handleScroll);const isGerman=()=>window.location.href.includes("/de/");document.addEventListener("DOMContentLoaded",()=>{function e(e){"number"!==e.getAttribute("type")&&e.setAttribute("type","number")}function t(){const t=document.querySelectorAll(".ccb-summary-item__value");t.forEach(t=>{e(t)})}function o(e){if(!document.querySelector(".ccb-subtotal-wrapper")){console.log("ccb-subtotal-wrapper not found");const e="Es ist etwas schiefgelaufen, bitte kopieren Sie die Preiskalkulation und senden Sie uns eine E-Mail an online@printy.de",t="Something went wrong, please manually copy the price calculation and send us an email to online@printy.de",o=isGerman()?e:t;return void alert(o)}let t="";const o=document.querySelector(".ccb-header-title").textContent.trim(),n=document.querySelectorAll(".ccb-subtotal-wrapper .ccb-summary-list__body .ccb-summary-item"),c=document.querySelector(".ccb-totals-list"),l=c.querySelectorAll(".ccb-total-row__item");if(!o||0===n.length||0===l.length)return void console.log("Calculator elements not found");t+=`${o}\n---\n\n`,n.forEach(e=>{const o=e.querySelector(".ccb-summary-item__title .ccb-summary-title").textContent.trim(),n=e.querySelector(".ccb-summary-item__value").textContent.trim(),c=`${o}: ${n}`;t+=`${c}\n`});let r="";l.forEach(e=>{const t=e.querySelector(".ccb-total-row__name").textContent.trim(),o=e.querySelector(".ccb-total-row__value").textContent.trim();r+=`${t}: ${o}\n`}),t+=`---\n${r}\n`,e.href=`mailto:online@printy.de?subject=Anfrage%20printy.de%20Preisrechner&body=${encodeURIComponent(t)}`}function n(){const e=document.createElement("div");e.classList.add("wp-block-group","is-layout-flex");const t=document.createElement("a");t.textContent=isGerman()?"Anfragen":"Request order",t.classList.add("wp-block-button__link","has-accent-1-background-color","has-text-color","has-background","has-link-color","wp-element-button"),t.style.textAlign="center",t.style.marginTop="1rem",t.style.borderRadius=".5rem",t.style.padding=".667em 1.33em";const n=document.querySelector(".ccb-subtotals-block");n?(n.appendChild(e),e.appendChild(t),t.addEventListener("click",()=>{o(t)})):console.log("calcSubtotal not found, aborting order button creation")}const c=document.querySelector('[class*="ccb"]');if(!c)return void console.log("Die Preiskalkulation ist nicht verfügbar. Bitte versuchen Sie es später erneut.");console.log("Die Preiskalkulation ist verfügbar.");const l=setInterval(()=>{document.querySelector(".ccb-app-container")&&document.querySelector(".ccb-subtotals-block")?(console.log("ccbLoaded is true, creating order button"),clearInterval(l),t(),n()):console.log("ccbLoaded is false, checking again in 200ms")},200)});const searchButton=document.querySelector('a[href="#search"]'),searchInput=document.querySelector('#search input[type="search"]');searchButton.addEventListener("click",e=>{e.preventDefault(),console.log("search button clicked"),searchInput.focus()});